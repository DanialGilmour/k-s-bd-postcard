<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Secret Letter ğŸ’Œ</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
</head>
<body>

<h1>ğŸ’Œ Secret Letter Exchange</h1>

<div class="envelope">
  <div class="flap"></div>
  <div class="body">
    <p>Click to open the envelope!</p>
  </div>
</div>

<div id="letterBox" class="hidden">
  <h2>ğŸ“œ Write or Read Letter</h2>

  <textarea id="message" placeholder="Write your letter here..."></textarea><br>
  <input id="password" type="password" placeholder="Enter password"><br>

  <button onclick="encryptLetter()">ğŸ” Encrypt</button>
  <button onclick="decryptLetter()">ğŸ”“ Decrypt</button>

  <p>ğŸ’¬ Result:</p>
  <textarea id="output" readonly></textarea>
</div>

<script>
function encryptLetter() {
  const message = document.getElementById("message").value;
  const password = document.getElementById("password").value;
  const encrypted = CryptoJS.AES.encrypt(message, password).toString();
  document.getElementById("output").value = encrypted;
}

function decryptLetter() {
  const encrypted = document.getElementById("message").value;
  const password = document.getElementById("password").value;
  const decrypted = CryptoJS.AES.decrypt(encrypted, password).toString(CryptoJS.enc.Utf8);
  document.getElementById("output").value = decrypted || "âš ï¸ Wrong password or invalid text";
}

// When you click the envelope, show the letter box
document.querySelector('.envelope').onclick = () => {
  document.querySelector('.envelope').classList.add('open');
  document.getElementById('letterBox').classList.remove('hidden');
};
</script>

</body>
</html>
